# ğŸ“š 11ì¥ í•©ì„±ê³¼ ìœ ì—°í•œ ì„¤ê³„

ìƒì†

- ë¶€ëª¨ í´ë˜ìŠ¤ì™€ ìì‹ í´ë˜ìŠ¤ ì‚¬ì´ì˜ ì˜ì¡´ì„±ì€ ì»´íŒŒì¼íƒ€ì„ì— í•´ê²°
- is-a ê´€ê³„
- í´ë˜ìŠ¤ ì‚¬ì´ì˜ ì •ì  ê´€ê³„

í•©ì„±

- ë¶€ëª¨ í´ë˜ìŠ¤ì™€ ìì‹ í´ë˜ìŠ¤ ì‚¬ì´ì˜ ì˜ì¡´ì„±ì€ ëŸ°íƒ€ì„ì— í•´ê²°
- has-a ê´€ê³„
- ê°ì²´ ì‚¬ì´ì˜ ë™ì  ê´€ê³„

ì½”ë“œ ì¬ì‚¬ìš©ì„ ìœ„í•´ì„œëŠ” ê°ì²´ í•©ì„±ì´ í´ë˜ìŠ¤ ìƒì†ë³´ë‹¤ ë” ì¢‹ì€ ë°©ë²•ì´ë‹¤.

## ğŸ“– 11.1 ìƒì†ì„ í•©ì„±ìœ¼ë¡œ ë³€ê²½í•˜ê¸°

ìƒì†ì„ ë‚¨ìš©í•  ë•Œ ì§ë©´í•˜ëŠ” ì„¸ ê°€ì§€ ë¬¸ì œ

1. ë¶ˆí•„ìš”í•œ ì¸í„°í˜ì´ìŠ¤ ìƒì† ë¬¸ì œ
2. ë©”ì„œë“œ ì˜¤ë²„ë¼ì´ë”©ì˜ ì˜¤ì‘ìš© ë¬¸ì œ
3. ë¶€ëª¨ í´ë˜ìŠ¤ì™€ ìì‹ í´ë˜ìŠ¤ì˜ ë™ì‹œ ìˆ˜ì • ë¬¸ì œ

### ğŸ”– 11.1.1 ë¶ˆí•„ìš”í•œ ì¸í„°í˜ì´ìŠ¤ ìƒì† ë¬¸ì œ: java.util.Propertiesì™€ java.util.Stack

```java
public class Properties {
    private Hashtable<String, String> properties = new Hashtable<>();

    public String setProperty(String key, String value) {
        return properties.put(key, value);
    }

    public String getProperty(String key) {
        return properties.get(key);
    }
}
```

- ë” ì´ìƒ ë¶ˆí•„ìš”í•œ `Hashtable`ì˜ ì˜¤í¼ë ˆì´ì…˜ë“¤ì´ í¼ë¸”ë¦­ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì˜¤ì—¼ì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤.
- `Stack` ë˜í•œ `Vector`ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ `Stack` í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ ì„ ì–¸í•¨ìœ¼ë¡œì¨ í•©ì„± ê´€ê³„ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

### ğŸ”– 11.1.2 ë©”ì„œë“œ ì˜¤ë²„ë¼ì´ë”©ì˜ ì˜¤ì‘ìš© ë¬¸ì œ: InstrumentedHashSet

```java
@RequiredArgsConstructor
public class InstrumentedHashSet<E> implements Set<E> {
    
    private static final int addCount = 0;
    
    private final Set<E> set;

    ... // Overriding
}
```

- `HashSet`ì— ëŒ€í•œ êµ¬í˜„ ê²°í•©ë„ëŠ” ì œê±°í•˜ë©´ì„œ í¼ë¸”ë¦­ ì¸í„°í˜ì´ìŠ¤ëŠ” ê·¸ëŒ€ë¡œ ìƒì†
  
í¬ì›Œë”©

- `Set`ì˜ ì˜¤ë²„ë ˆì´ì…˜ì„ ì˜¤ë²„ë¼ì´ë”©í•œ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œì—ì„œ ë‚´ë¶€ì˜ `HashSet` ì¸ìŠ¤í„´ìŠ¤ì—ê²Œ ë™ì¼í•œ ë©”ì„œë“œ í˜¸ì¶œì„ ê·¸ëŒ€ë¡œ ì „ë‹¬
- ë™ì¼í•œ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê¸° ìœ„í•´ ì¶”ê°€ëœ ë©”ì„œë“œë¥¼ **í¬ì›Œë”© ë©”ì„œë“œ**ë¼ê³  ë¶€ë¥¸ë‹¤.
- ê¸°ì¡´ í´ë˜ìŠ¤ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê·¸ëŒ€ë¡œ ì™¸ë¶€ì— ì œê³µí•˜ë©´ì„œ êµ¬í˜„ì— ëŒ€í•œ ê²°í•© ì—†ì´ ì¼ë¶€ ì‘ë™ ë°©ì‹ì„ ë³€ê²½í•˜ê³  ì‹¶ì€ ê²½ìš°ì— ìœ ìš©í•œ ê¸°ë²•

### ğŸ”– 11.1.3 ë¶€ëª¨ í´ë˜ìŠ¤ì™€ ìì‹ í´ë˜ìŠ¤ì˜ ë™ì‹œ ìˆ˜ì • ë¬¸ì œ: PersonalPlaylist

```java
public class PersonalPlaylist {

    private Playlist playlist = new Playlist();

    public void append(Song song) {
        playlist.append(song);
    }

    public void remove(Song song) {
        playlist.getTracks().remove(song);
        playlist.getSingers().remove(song.getSinger());
    }
}
```

- í–¥í›„ì— `Playlist`ì˜ ë‚´ë¶€ êµ¬í˜„ì„ ë³€ê²½í•˜ë”ë¼ë„ íŒŒê¸‰íš¨ê³¼ë¥¼ ìµœëŒ€í•œ `PersonalPlaylist` ë‚´ë¶€ë¡œ ìº¡ìŠí™”í•  ìˆ˜ ìˆë‹¤.

ëª½í‚¤ íŒ¨ì¹˜

- í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ í™˜ê²½ì—ë§Œ ì˜í–¥ì„ ë¯¸ì¹˜ë„ë¡ ì§€ì—­ì ìœ¼ë¡œ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ í™•ì¥í•˜ëŠ” ê²ƒ

## ğŸ“– 11.2 ìƒì†ìœ¼ë¡œ ì¸í•œ ì¡°í•©ì˜ í­ë°œì ì¸ ì¦ê°€

1. í•˜ë‚˜ì˜ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê±°ë‚˜ ìˆ˜ì •í•˜ê¸° ìœ„í•´ ë¶ˆí•„ìš”í•˜ê²Œ ë§ì€ ìˆ˜ì˜ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ìˆ˜ì •í•´ì•¼ í•œë‹¤.
2. ë‹¨ì¼ ìƒì†ë§Œ ì§€ì›í•˜ëŠ” ì–¸ì–´ì—ì„œëŠ” ìƒì†ìœ¼ë¡œ ì¸í•´ ì˜¤íˆë ¤ ì¤‘ë³µ ì½”ë“œì˜ ì–‘ì´ ëŠ˜ì–´ë‚  ìˆ˜ ìˆë‹¤.

### ğŸ”– 11.2.1 ê¸°ë³¸ ì •ì±…ê³¼ ë¶€ê°€ ì •ì±… ì¡°í•©í•˜ê¸°

ê¸°ë³¸ ì •ì±…

- ê°€ì…ìì˜ í†µí™” ì •ë³´ ê¸°ë°˜
- ì¼ë°˜ ìš”ê¸ˆì œ, ì‹¬ì•¼ í• ì¸ ìš”ê¸ˆì œ

ë¶€ê°€ ì •ì±…

- í†µí™”ëŸ‰ê³¼ ë¬´ê´€í•˜ê²Œ ê¸°ë³¸ ì •ì±…ì— ì„ íƒì ìœ¼ë¡œ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ìš”ê¸ˆ ë°©ì‹
- ì„¸ê¸ˆ ì •ì±…, ê¸°ë³¸ ìš”ê¸ˆ í• ì¸ ì •ì±…
- ê¸°ë³¸ ì •ì±…ì˜ ê³„ì‚° ê²°ê³¼ì— ì ìš©
- ì„ íƒì ìœ¼ë¡œ ì ìš© ê°€ëŠ¥
- ì¡°í•© ê°€ëŠ¥
- ì„ì˜ì˜ ìˆœì„œë¡œ ì ìš© ê°€ëŠ¥

### ğŸ”– 11.2.2 ìƒì†ì„ ì´ìš©í•´ì„œ ê¸°ë³¸ ì •ì±… êµ¬í˜„í•˜ê¸°

```java
@RequiredArgsConstructor
public abstract class Phone {

    private List<Call> calls = new ArrayList<>();

    public Money calculateFee() {
        Money result = Money.ZERO;

        for (Call call : calls) {
            result = result.plus(calculateCallFee(call));
        }

        return result;
    }

    protected abstract Money calculateCallFee(Call call);
}
```

```java
@RequiredArgsConstructor
public class RegularPhone extends Phone {

    private final Money amount;

    private final Duration seconds;

    @Override
    protected Money calculateCallFee(Call call) {
        return amount.times((double) call.getDuration().getSeconds() / seconds.getSeconds());
    }
}
```

```java
@RequiredArgsConstructor
public class NightlyDiscountPhone extends Phone {

    private static final int LATE_NIGHT_HOUR = 22;

    private final Money nightlyAmount;

    private final Money regularAmount;

    private final Duration seconds;

    @Override
    protected Money calculateCallFee(Call call) {
        if (call.getFrom().getHour() >= LATE_NIGHT_HOUR) {
            return nightlyAmount.times((double) call.getDuration().getSeconds() / seconds.getSeconds());
        }
        return regularAmount.times((double) call.getDuration().getSeconds() / seconds.getSeconds());
    }
}
```

- ê¸°ë³¸ ì •ì±…ìœ¼ë¡œë§Œ ìš”ê¸ˆ ê³„ì‚°

### ğŸ”– 11.2.3 ê¸°ë³¸ ì •ì±…ì— ì„¸ê¸ˆ ì •ì±… ì¡°í•©í•˜ê¸°

```java
public class TaxableRegularPhone extends RegularPhone {

    private final double taxRate;

    public TaxableRegularPhone(Money amount, Duration seconds, double taxRate) {
        super(amount, seconds);
        this.taxRate = taxRate;
    }

    @Override
    public Money calculateFee() {
        Money fee = super.calculateFee();
        return fee.plus(fee.times(taxRate));
    }
}
```

- ê²°í•©ë„ê°€ ë†’ì•„ì§„ë‹¤.

```java
@RequiredArgsConstructor
public abstract class Phone {

    private List<Call> calls = new ArrayList<>();

    public Money calculateFee() {
        Money result = Money.ZERO;

        for (Call call : calls) {
            result = result.plus(calculateCallFee(call));
        }

        return afterCalculated(result);
    }

    protected abstract Money calculateCallFee(Call call);
    
    protected abstract Money afterCalculated(Money fee);
}

```

```java
@RequiredArgsConstructor
public class RegularPhone extends Phone {

    private final Money amount;

    private final Duration seconds;

    @Override
    protected Money calculateCallFee(Call call) {
        return amount.times((double) call.getDuration().getSeconds() / seconds.getSeconds());
    }

    @Override
    protected Money afterCalculated(Money fee) {
        return fee;
    }
}
```

```java
@RequiredArgsConstructor
public class NightlyDiscountPhone extends Phone {

    private static final int LATE_NIGHT_HOUR = 22;

    private final Money nightlyAmount;

    private final Money regularAmount;

    private final Duration seconds;

    @Override
    protected Money calculateCallFee(Call call) {
        if (call.getFrom().getHour() >= LATE_NIGHT_HOUR) {
            return nightlyAmount.times((double) call.getDuration().getSeconds() / seconds.getSeconds());
        }
        return regularAmount.times((double) call.getDuration().getSeconds() / seconds.getSeconds());
    }

    @Override
    protected Money afterCalculated(Money fee) {
        return fee;
    }
}
```

- ë¶€ëª¨ í´ë˜ìŠ¤ì— ì¶”ìƒ ë©”ì„œë“œë¥¼ ì¶”ê°€í•˜ë©´ ê½¤ë‚˜ ë²ˆê±°ë¡œì›Œì§„ë‹¤.

```java
@RequiredArgsConstructor
public abstract class Phone {

    private List<Call> calls = new ArrayList<>();

    public Money calculateFee() {
        Money result = Money.ZERO;

        for (Call call : calls) {
            result = result.plus(calculateCallFee(call));
        }

        return afterCalculated(result);
    }

    protected Money afterCalculated(Money fee) {
        return fee;
    }

    protected abstract Money calculateCallFee(Call call);
}
```

- ê¸°ë³¸ êµ¬í˜„ì„ í•¨ê»˜ ì œê³µí•˜ë©´ ì˜¤ë²„ë¼ì´ë”©í•  í•„ìš”ê°€ ì—†ë‹¤.
- í›… ë©”ì„œë“œ(hook method)
- ì¶”ìƒ ë©”ì„œë“œì™€ ë™ì¼í•˜ê²Œ ìì‹ í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë”©í•  ì˜ë„ë¡œ ë©”ì„œë“œë¥¼ ì¶”ê°€í–ˆì§€ë§Œ í¸ì˜ë¥¼ ìœ„í•´ ê¸°ë³¸ êµ¬í˜„ì„ ì œê³µí•˜ëŠ” ë©”ì„œë“œ

```java
public class TaxableRegularPhone extends RegularPhone {

    private final double taxRate;

    public TaxableRegularPhone(Money amount, Duration seconds, double taxRate) {
        super(amount, seconds);
        this.taxRate = taxRate;
    }

    @Override
    protected Money afterCalculated(Money fee) {
        return fee.plus(fee.times(taxRate));
    }
}
```

```java
public class TaxableNightlyDiscountPhone extends NightlyDiscountPhone {

    private final double taxRate;

    public TaxableNightlyDiscountPhone(Money nightlyAmount, Money regularAmount, Duration seconds, double taxRate) {
        super(nightlyAmount, regularAmount, seconds);
        this.taxRate = taxRate;
    }

    @Override
    protected Money afterCalculated(Money fee) {
        return fee.plus(fee.times(taxRate));
    }
}
```

- ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ì´ë¦„ì„ ì œì™¸í•˜ë©´ ëŒ€ë¶€ë¶„ì˜ ì½”ë“œê°€ ê±°ì˜ ë™ì¼

### ğŸ”– 11.2.4 ê¸°ë³¸ ì •ì±…ì— ê¸°ë³¸ ìš”ê¸ˆ í• ì¸ ì •ì±… ì¡°í•©í•˜ê¸°

```java
public class RateDiscountableRegularPhone extends RegularPhone {

    private final Money discountAmount;

    public RateDiscountableRegularPhone(Money amount, Duration seconds, Money discountAmount) {
        super(amount, seconds);
        this.discountAmount = discountAmount;
    }

    @Override
    protected Money afterCalculated(Money fee) {
        return fee.minus(discountAmount);
    }
}
```

```java
public class RateDiscountableNightlyDiscountPhone extends NightlyDiscountPhone {

    private final Money discountAmount;

    public RateDiscountableNightlyDiscountPhone(Money nightlyAmount, Money regularAmount, Duration seconds, Money discountAmount) {
        super(nightlyAmount, regularAmount, seconds);
        this.discountAmount = discountAmount;
    }

    @Override
    protected Money afterCalculated(Money fee) {
        return fee.minus(discountAmount);
    }
}
```

- ë˜, ì¤‘ë³µ ì½”ë“œê°€ ì¶”ê°€ë˜ì—ˆë‹¤.

### ğŸ”– 11.2.5 ì¤‘ë³µ ì½”ë“œì˜ ë«ì— ê±¸ë¦¬ë‹¤

ìƒì†ì„ ì´ìš©í•œ í•´ê²° ë°©ë²•ì€ ëª¨ë“  ê°€ëŠ¥í•œ ì¡°í•©ë³„ë¡œ ìì‹ í´ë˜ìŠ¤ë¥¼ í•˜ë‚˜ì”© ì¶”ê°€í•˜ëŠ” ê²ƒì´ë‹¤.

```java
public class TaxableAndRateDiscountableRegularPhone extends TaxableRegularPhone {

    private final Money discountAmount;

    public TaxableAndRateDiscountableRegularPhone(Money amount, Duration seconds, double taxRate, Money discountAmount) {
        super(amount, seconds, taxRate);
        this.discountAmount = discountAmount;
    }

    @Override
    protected Money afterCalculated(Money fee) {
        return super.afterCalculated(fee).minus(discountAmount);
    }
}
```

```java
public class RateDiscountableAndTaxableRegularPhone extends RateDiscountableRegularPhone {

    private final double taxRate;

    public RateDiscountableAndTaxableRegularPhone(Money amount, Duration seconds, Money discountAmount, double taxRate) {
        super(amount, seconds, discountAmount);
        this.taxRate = taxRate;
    }

    @Override
    protected Money afterCalculated(Money fee) {
        return super.afterCalculated(fee).plus(fee.times(taxRate));
    }
}
```

```java
public class TaxableAndDiscountableNightlyDiscountPhone extends TaxableNightlyDiscountPhone {

    private final Money discountAmount;

    public TaxableAndDiscountableNightlyDiscountPhone(Money nightlyAmount, Money regularAmount, Duration seconds, double taxRate, Money discountAmount) {
        super(nightlyAmount, regularAmount, seconds, taxRate);
        this.discountAmount = discountAmount;
    }

    @Override
    protected Money afterCalculated(Money fee) {
        return super.afterCalculated(fee).minus(discountAmount);
    }
}
```

```java
public class RateDiscountableAndTaxableNightlyDiscountPhone extends RateDiscountableNightlyDiscountPhone {

    private final double taxRate;

    public RateDiscountableAndTaxableNightlyDiscountPhone(Money nightlyAmount, Money regularAmount, Duration seconds, Money discountAmount, double taxRate) {
        super(nightlyAmount, regularAmount, seconds, discountAmount);
        this.taxRate = taxRate;
    }

    @Override
    protected Money afterCalculated(Money fee) {
        return super.afterCalculated(fee).plus(fee.times(taxRate));
    }
}

```

- **í´ë˜ìŠ¤ í­ë°œ(class explosion)** ë˜ëŠ” **ì¡°í•©ì˜ í­ë°œ(combinational explosion)**
- ìì‹ í´ë˜ìŠ¤ê°€ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ êµ¬í˜„ì— ê°•í•˜ê²Œ ê²°í•©ë˜ë„ë¡ ê°•ìš”í•˜ëŠ” ìƒì†ì˜ ê·¼ë³¸ì ì¸ í•œê³„ ë•Œë¬¸ì— ë°œìƒ
- ê¸°ëŠ¥ì„ ì¶”ê°€í•  ë•Œë¿ë§Œ ì•„ë‹ˆë¼ ê¸°ëŠ¥ì„ ìˆ˜ì •í•  ë•Œë„ ë¬¸ì œê°€ ë¨.

## ğŸ“– 11.3 í•©ì„± ê´€ê³„ë¡œ ë³€ê²½í•˜ê¸°

í•©ì„±ì„ ì‚¬ìš©í•˜ë©´ êµ¬í˜„ì´ ì•„ë‹Œ í¼ë¸”ë¦­ ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•´ì„œë§Œ ì˜ì¡´í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ëŸ°íƒ€ì„ì— ê°ì²´ì˜ ê´€ê³„ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

### ğŸ”– 11.3.1 ê¸°ë³¸ ì •ì±… í•©ì„±í•˜ê¸°

```java
public interface RatePolicy {
    Money calculateFee(Phone phone);
}
```

```java
public abstract class BasicRatePolicy implements RatePolicy{

    @Override
    public Money calculateFee(Phone phone) {
        Money result = Money.ZERO;

        for (Call call : phone.getCalls()) {
            result.plus(calculateCallFee(call));
        }

        return result;
    }

    protected abstract Money calculateCallFee(Call call);
}
```

```java
@RequiredArgsConstructor
public class RegularPolicy extends BasicRatePolicy {

    private final Money amount;
    private final Duration seconds;

    @Override
    protected Money calculateCallFee(Call call) {
        return amount.times((double) call.getDuration().getSeconds() / seconds.getSeconds());
    }
}
```

```java
@RequiredArgsConstructor
public class NightlyDiscountPolicy extends BasicRatePolicy {

    private static final int LATE_NIGHT_HOUR = 22;

    private final Money nightlyAmount;
    private final Money regularAmount;
    private final Duration seconds;

    @Override
    protected Money calculateCallFee(Call call) {
        if (call.getFrom().getHour() >= LATE_NIGHT_HOUR) {
            return nightlyAmount.times((double) call.getDuration().getSeconds() / seconds.getSeconds());
        }
        return regularAmount.times((double) call.getDuration().getSeconds() / seconds.getSeconds());
    }
}
```

```java
@RequiredArgsConstructor
public class Phone {

    private final RatePolicy ratePolicy;

    @Getter
    private List<Call> calls = new ArrayList<>();

    public Money calculateFee() {
        return ratePolicy.calculateFee(this);
    }
}
```

- ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ê°ì²´ì™€ í˜‘ë ¥í•˜ê¸° ìœ„í•´ í•©ì„± ê´€ê³„ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ëŠ” í•©ì„±í•˜ëŠ” ê°ì²´ì˜ íƒ€ì…ì„ ì¸í„°í˜ì´ìŠ¤ë‚˜ ì¶”ìƒ í´ë˜ìŠ¤ë¡œ ì„ ì–¸í•˜ê³  ì˜ì¡´ì„± ì£¼ì…ì„ ì‚¬ìš©í•´ ëŸ°íƒ€ì„ì— í•„ìš”í•œ ê°ì²´ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤.

### ğŸ”– 11.3.2 ë¶€ê°€ ì •ì±… ì ìš©í•˜ê¸°

```java
@RequiredArgsConstructor
public abstract class AdditionalRatePolicy implements RatePolicy {

    private final RatePolicy next;

    @Override
    public Money calculateFee(Phone phone) {
        Money fee = next.calculateFee(phone);
        return afterCalculated(fee);
    }

    protected abstract Money afterCalculated(Money fee);
}
```

```java
public class TaxablePolicy extends AdditionalRatePolicy {
    
    private final double taxRatio;

    public TaxablePolicy(RatePolicy next, double taxRatio) {
        super(next);
        this.taxRatio = taxRatio;
    }

    @Override
    protected Money afterCalculated(Money fee) {
        return fee.plus(fee.times(taxRatio));
    }
}
```

```java
public class RateDiscountablePolicy extends AdditionalRatePolicy {

    private final Money discountAmount;

    public RateDiscountablePolicy(RatePolicy next, Money discountAmount) {
        super(next);
        this.discountAmount = discountAmount;
    }

    @Override
    protected Money afterCalculated(Money fee) {
        return fee.minus(discountAmount);
    }
}
```

### ğŸ”– 11.3.3 ê¸°ë³¸ ì •ì±…ê³¼ ë¶€ê°€ ì •ì±… í•©ì„±í•˜ê¸°

`Phone phone = new Phone(new taxablePolicy(0.05, new RegularPolicy(...)))`

- ê°ì²´ë¥¼ ì¡°í•©í•˜ê³  ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ ìƒì†ì„ ì‚¬ìš©í•œ ë°©ì‹ë³´ë‹¤ ë” ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  ì¼ê´€ì„± ìˆë‹¤.

### ğŸ”– 11.3.4 ìƒˆë¡œìš´ ì •ì±… ì¶”ê°€í•˜ê¸°

- ì˜¤ì§ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ë§Œ ì¶”ê°€í•˜ê³  ëŸ°íƒ€ì„ì— í•„ìš”í•œ ì •ì±…ë“¤ì„ ì¡°í•©í•´ì„œ ì›í•˜ëŠ” ê¸°ëŠ¥ì„ ì–»ì„ ìˆ˜ ìˆë‹¤.
- ìš”êµ¬ì‚¬í•­ì„ ë³€ê²½í•  ë•Œ ì˜¤ì§ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ë§Œ ìˆ˜ì •í•´ë„ ëœë‹¤.
  - ë³€ê²½ í›„ì˜ ì„¤ê³„ëŠ” ë‹¨ì¼ ì±…ì„ ì›ì¹™ì„ ì¤€ìˆ˜í•˜ê³  ìˆë‹¤.

### ğŸ”– 11.3.5 ê°ì²´ í•©ì„±ì´ í´ë˜ìŠ¤ ìƒì†ë³´ë‹¤ ë” ì¢‹ì€ ë°©ë²•ì´ë‹¤

- ìƒì†ì€ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ì„¸ë¶€ì ì¸ êµ¬í˜„ì— ìì‹ í´ë˜ìŠ¤ë¥¼ ê°•í•˜ê²Œ ê²°í•©ì‹œí‚¤ê¸° ë•Œë¬¸ì— ì½”ë“œì˜ ì§„í™”ë¥¼ ë°©í•´í•œë‹¤.
- ìƒì†ì´ êµ¬í˜„ì„ ì¬ì‚¬ìš©í•˜ëŠ” ë° ë¹„í•´ í•©ì„±ì€ ê°ì²´ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¬ì‚¬ìš©í•œë‹¤.
- ìƒì†ì˜ ì¢…ë¥˜: êµ¬í˜„ ìƒì† / ì¸í„°í˜ì´ìŠ¤ ìƒì†
  - ì´ë²ˆ ì¥ì—ì„œ ì‚´í´ë³¸ ìƒì†ì˜ ë‹¨ì ì€ êµ¬í˜„ ìƒì†

## ğŸ“– 11.4 ë¯¹ìŠ¤ì¸

- ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ì½”ë“œ ì¼ë¶€ë¥¼ í´ë˜ìŠ¤ ì•ˆì— ì„ì–´ ë„£ì–´ ì¬ì‚¬ìš©í•˜ëŠ” ê¸°ë²•ì„ ê°€ë¦¬í‚¤ëŠ” ìš©ì–´
- ì½”ë“œë¥¼ ë‹¤ë¥¸ ì½”ë“œ ì•ˆì— ì„ì–´ ë„£ê¸° ìœ„í•œ ë°©ë²•
- ìƒì†ì´ í´ë˜ìŠ¤ì™€ í´ë˜ìŠ¤ ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ê³ ì •ì‹œí‚¤ëŠ” ë° ë¹„í•´ ë¯¹ìŠ¤ì¸ì€ ìœ ì—°í•˜ê²Œ ê´€ê³„ë¥¼ ì¬êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.
- [ì´í™í‹°ë¸Œ ìë°” ì•„ì´í…œ20](https://bottleh.netlify.app/backend/effective-java/4%EC%9E%A5_%ED%81%B4%EB%9E%98%EC%8A%A4%EC%99%80_%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4/#%EC%95%84%EC%9D%B4%ED%85%9C20-%EC%B6%94%EC%83%81-%ED%81%B4%EB%9E%98%EC%8A%A4%EB%B3%B4%EB%8B%A4%EB%8A%94-%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4%EB%A5%BC-%EC%9A%B0%EC%84%A0%ED%95%98%EB%9D%BC)
- javaì—ì„œ ì¸í„°í˜ì´ìŠ¤ëŠ” ë¯¹ìŠ¤ì¸ ì •ì˜ì— ì•ˆì„±ë§ì¶¤ì´ì§€ë§Œ, ì¶”ìƒ í´ë˜ìŠ¤ëŠ” ë¯¹ìŠ¤ì¸ì„ ì •ì˜í•  ìˆ˜ ì—†ë‹¤.

## ğŸ“– 11.4.1 ìŒ“ì„ ìˆ˜ ìˆëŠ” ë³€ê²½

- ë¯¹ìŠ¤ì¸ì€ ëŒ€ìƒ í´ë˜ìŠ¤ì˜ ìì‹ í´ë˜ìŠ¤ì²˜ëŸ¼ ì‚¬ìš©ë  ìš©ë„ë¡œ ë§Œë“¤ì–´ì§€ëŠ” ê²ƒ
- ë¯¹ìŠ¤ì¸ì„ ì¶”ìƒ ì„œë¸Œí´ë˜ìŠ¤(abstract subclass)ë¼ê³  ë¶€ë¥´ê¸°ë„ í•œë‹¤.
- ìŒ“ì„ ìˆ˜ ìˆëŠ” ë³€ê²½: ë¯¹ìŠ¤ì¸ì„ ì‚¬ìš©í•˜ë©´ íŠ¹ì •í•œ í´ë˜ìŠ¤ì— ëŒ€í•œ ë³€ê²½ ë˜ëŠ” í™•ì¥ì„ ë…ë¦½ì ìœ¼ë¡œ êµ¬í˜„í•œ í›„ í•„ìš”í•œ ì‹œì ì— ì°¨ë¡€ëŒ€ë¡œ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.
